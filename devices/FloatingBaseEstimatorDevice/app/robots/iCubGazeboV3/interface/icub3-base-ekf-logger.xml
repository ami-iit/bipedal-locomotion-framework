<!-- Copyright (C) 2019-2021 Istituto Italiano di Tecnologia (IIT). All rights reserved.
This software may be modified and distributed under the terms of the
BSD-3-Clause license. -->

<?xml version="1.0" encoding="UTF-8" ?>
<device  xmlns:xi="http://www.w3.org/2001/XInclude" name="yarp-robot-logger" type="YarpRobotLoggerDevice">
  <param name="robot">icubSim</param>
  <param name="sampling_period_in_s">0.01</param>
  <param name="port_prefix">/yarp-robot-logger</param>

  <group name="Telemetry">
    <param name="save_period">600.0</param>
  </group>

  <group name="ExogenousSignals">
    <param name="exogenous_inputs">("Walking", "BaseState")</param>

    <group name="Walking">
      <param name="port_name">"/yarp-robot-logger/exogenous_signals/walking:i"</param>
      <param name="signal_name">"walking"</param>
    </group>

    <group name="BaseState">
      <param name="port_name">"/yarp-robot-logger/exogenous_signals/base_state:i"</param>
      <param name="signal_name">"basestate"</param>
    </group>
  </group>

  <group name="RobotCameraBridge">
      <param name="stream_cameras">false</param>
  </group>

  <group name="RobotSensorBridge">
    <param name="check_for_nan">false</param>
        <param name="stream_joint_states">true</param>
        <param name="stream_inertials">false</param>
        <param name="stream_cartesian_wrenches">false</param>
        <param name="stream_forcetorque_sensors">false</param>
        <param name="stream_cameras">false</param>

        <group name="RemoteControlBoardRemapper">
            <param name="joints_list">("neck_pitch", "neck_roll", "neck_yaw", "torso_pitch", "torso_roll", "torso_yaw", "l_shoulder_pitch", "l_shoulder_roll", "l_shoulder_yaw", "l_elbow", "r_shoulder_pitch", "r_shoulder_roll", "r_shoulder_yaw", "r_elbow", "l_hip_pitch", "l_hip_roll", "l_hip_yaw", "l_knee", "l_ankle_pitch", "l_ankle_roll", "r_hip_pitch", "r_hip_roll", "r_hip_yaw", "r_knee", "r_ankle_pitch", "r_ankle_roll")</param>
        </group>

        <group name="InertialSensors">
            <param name="imu_list">("chest_imu_acc_1x1")</param>
        </group>

        <group name="CartesianWrenches">
            <param name="cartesian_wrenches_list">("left_foot_front", "left_foot_rear", "right_foot_front", "right_foot_rear")</param>
        </group>
  </group>

  <!-- ATTACH -->
  <action phase="startup" level="15" type="attach">
    <paramlist name="networks">
            <elem name="all_joints">all_joints_mc</elem>
            <elem name="chest_imu_acc_1x1">chest_inertial</elem>
            <elem name="left_foot_front">left_foot_front_cartesian_wrench</elem>
            <elem name="right_foot_front">right_foot_front_cartesian_wrench</elem>
            <elem name="left_foot_rear">left_foot_rear_cartesian_wrench</elem>
            <elem name="right_foot_rear">right_foot_rear_cartesian_wrench</elem>
    </paramlist>
  </action>

  <action phase="shutdown" level="2" type="detach" />
  <!-- FINISH ATTACH-->

</device>
