<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BipedalLocomotion::Estimators::RobotDynamicsEstimator::UkfMeasurement class | bipedal locomotion framework v0.16.1</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="../index.html">bipedal locomotion framework</a> <span class="m-breadcrumb">|</span> <a href="index.html" class="m-thin">v0.16.1</a>
      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li>
              <a href="pages.html">Versions</a>
              <ol>
                <li><a href="../index.html">Master</a></li>
                <li><a href="../v0.18.0/index.html">v0.18.0</a></li>
                <li><a href="../v0.16.1/index.html">v0.16.1</a></li>
                <li><a href="../v0.17.0/index.html">v0.17.0</a></li>
                <li><a href="../v0.15.0/index.html">v0.15.0</a></li>
              </ol>
            </li>
            <li>
              <a href="pages.html">Contacts</a>
              <ol>
                <li><a href="https://github.com/ami-iit/bipedal-locomotion-framework">GitHub</a></li>
                <li><a href="https://www.iit.it/web/ami/">Lab website</a></li>
              </ol>
            </li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespaceBipedalLocomotion.html">BipedalLocomotion</a>::<wbr/></span><span class="m-breadcrumb"><a href="namespaceBipedalLocomotion_1_1Estimators.html">Estimators</a>::<wbr/></span><span class="m-breadcrumb"><a href="namespaceBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator.html">RobotDynamicsEstimator</a>::<wbr/></span>UkfMeasurement <span class="m-thin">class</span>
          <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="UkfMeasurement_8h.html">&lt;BipedalLocomotion/RobotDynamicsEstimator/UkfMeasurement.h&gt;</a></div>
        </h1>
        <p><a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1UkfMeasurement.html" class="m-doc">UkfMeasurement</a> is a concrete class that represents the Measurement of the estimator.</p>
        <nav class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#pub-static-methods">Public static functions</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
              </ul>
            </li>
          </ul>
        </nav>
<p>The user should build the dynamic model of the measurement, setting a variable handler describing the variables composing the measurement vector, the list of the dynamic models associated to each variable, and the matrix of covariances associated to the variable in the measurement vector. The user should set also a ukf input provider which provides the inputs needed to update the ukf measurement dynamics.</p>
        <section id="pub-static-methods">
          <h2><a href="#pub-static-methods">Public static functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">static auto <a href="#a81f077ee9742da066185196d99de5445" class="m-doc">build</a>(</span><span class="m-doc-wrap">std::weak_ptr&lt;const <a href="classBipedalLocomotion_1_1ParametersHandler_1_1IParametersHandler.html" class="m-doc">ParametersHandler::<wbr />IParametersHandler</a>&gt; handler,
              <a href="classBipedalLocomotion_1_1System_1_1VariablesHandler.html" class="m-doc">System::<wbr />VariablesHandler</a>&amp; stateVariableHandler,
              std::shared_ptr&lt;iDynTree::KinDynComputations&gt; kinDynFullModel,
              const std::vector&lt;<a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1SubModel.html" class="m-doc">SubModel</a>&gt;&amp; subModelList,
              const std::vector&lt;std::shared_ptr&lt;<a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1KinDynWrapper.html" class="m-doc">KinDynWrapper</a>&gt;&gt;&amp; kinDynWrapperList) -&gt; std::unique_ptr&lt;<a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1UkfMeasurement.html" class="m-doc">UkfMeasurement</a>&gt;</span>
            </dt>
            <dd>Build the ukf measurement model.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a277cc5da1090f678b8f76e4e1a1ec02a" class="m-doc">initialize</a>(</span><span class="m-doc-wrap">std::weak_ptr&lt;const <a href="classBipedalLocomotion_1_1ParametersHandler_1_1IParametersHandler.html" class="m-doc">ParametersHandler::<wbr />IParametersHandler</a>&gt; handler) -&gt; bool</span>
            </dt>
            <dd>Initialize the ukf measurement model.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a0bf938a7c212bd3f23f65d4acdb287f1" class="m-doc">finalize</a>(</span><span class="m-doc-wrap">const <a href="classBipedalLocomotion_1_1System_1_1VariablesHandler.html" class="m-doc">System::<wbr />VariablesHandler</a>&amp; handler) -&gt; bool</span>
            </dt>
            <dd>Finalize the <a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1UkfMeasurement.html" class="m-doc">UkfMeasurement</a>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#af3a294d8de87e63fd5ddb28416454ae6" class="m-doc">setUkfInputProvider</a>(</span><span class="m-doc-wrap">std::shared_ptr&lt;const <a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1UkfInputProvider.html" class="m-doc">UkfInputProvider</a>&gt; ukfInputProvider)</span>
            </dt>
            <dd>setUkfInputProvider set the provider for the ukf input.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a8b8f1cc6c9b9377a9f2f39d7121e5989" class="m-doc">getMeasurementVariableHandler</a>(</span><span class="m-doc-wrap">) const -&gt; const <a href="classBipedalLocomotion_1_1System_1_1VariablesHandler.html" class="m-doc">System::<wbr />VariablesHandler</a>&amp;</span>
            </dt>
            <dd>getMeasurementVariableHandler access the <code><a href="classBipedalLocomotion_1_1System_1_1VariablesHandler.html" class="m-doc">System::<wbr />VariablesHandler</a></code> instance created during the initialization phase.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a0abc9014ca9d64c17d589077b1a8638a" class="m-doc">predictedMeasure</a>(</span><span class="m-doc-wrap">const Eigen::Ref&lt;const Eigen::MatrixXd&gt;&amp; currentState) const -&gt; std::pair&lt;bool, bfl::Data&gt; <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>predictedMeasure predict the new measurement depending on the state computed by the predict step.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ac4bc75618d5b26f52d3429fec0eae395" class="m-doc">getNoiseCovarianceMatrix</a>(</span><span class="m-doc-wrap">) const -&gt; std::pair&lt;bool, Eigen::MatrixXd&gt; <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>getNoiseCovarianceMatrix access the <code>Eigen::MatrixXd</code> representing the process covariance matrix.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a66c317ef0deac940789962933b66a2c6" class="m-doc">setProperty</a>(</span><span class="m-doc-wrap">const std::string&amp; property) -&gt; bool <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>setProperty is not implemented.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ac8615aeda5b4e01022bf0c8f6e179127" class="m-doc">getMeasurementDescription</a>(</span><span class="m-doc-wrap">) const -&gt; bfl::VectorDescription <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>getMeasurementDescription access the <code>bfl::VectorDescription</code>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a3d3aee5448d684f1b62f38cc195af66f" class="m-doc">getInputDescription</a>(</span><span class="m-doc-wrap">) const -&gt; bfl::VectorDescription <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>getInputDescription access the <code>bfl::VectorDescription</code>.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a2eb74316fe079b641912b3e5d3b90e40" class="m-doc">getMeasurementSize</a>(</span><span class="m-doc-wrap">) -&gt; std::size_t</span>
            </dt>
            <dd>getMeasurementSize access the length of the measurement vector</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a1a25144147de896f09cd97792b23d6ff" class="m-doc">setStateVariableHandler</a>(</span><span class="m-doc-wrap"><a href="classBipedalLocomotion_1_1System_1_1VariablesHandler.html" class="m-doc">System::<wbr />VariablesHandler</a> stateVariableHandler)</span>
            </dt>
            <dd>Set a <code>System::VariableHandler</code> describing the variables composing the state.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a42b53b3b8de94477beccc56edbe01aeb" class="m-doc">innovation</a>(</span><span class="m-doc-wrap">const bfl::Data&amp; predictedMeasurements,
              const bfl::Data&amp; measurements) const -&gt; std::pair&lt;bool, bfl::Data&gt; <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>innovation computes the innovation step of the ukf update as the difference between the predicted_measurement and the measurement.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ab3fa98a920c94461233987a23b544fa2" class="m-doc">measure</a>(</span><span class="m-doc-wrap">const bfl::Data&amp; data = bfl::Data()) const -&gt; std::pair&lt;bool, bfl::Data&gt; <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>measure get the updated measurement.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a93871ca09f6b3abd89cdc57e83c68c72" class="m-doc">freeze</a>(</span><span class="m-doc-wrap">const bfl::Data&amp; data = bfl::Data()) -&gt; bool <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>freeze update the measurement using data from sensors.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a81f077ee9742da066185196d99de5445"><div>
            <h3>
              <span class="m-doc-wrap-bumper">static std::unique_ptr&lt;<a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1UkfMeasurement.html" class="m-doc">UkfMeasurement</a>&gt; BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a81f077ee9742da066185196d99de5445" class="m-doc-self">build</a>(</span><span class="m-doc-wrap">std::weak_ptr&lt;const <a href="classBipedalLocomotion_1_1ParametersHandler_1_1IParametersHandler.html" class="m-doc">ParametersHandler::<wbr />IParametersHandler</a>&gt; handler,
              <a href="classBipedalLocomotion_1_1System_1_1VariablesHandler.html" class="m-doc">System::<wbr />VariablesHandler</a>&amp; stateVariableHandler,
              std::shared_ptr&lt;iDynTree::KinDynComputations&gt; kinDynFullModel,
              const std::vector&lt;<a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1SubModel.html" class="m-doc">SubModel</a>&gt;&amp; subModelList,
              const std::vector&lt;std::shared_ptr&lt;<a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1KinDynWrapper.html" class="m-doc">KinDynWrapper</a>&gt;&gt;&amp; kinDynWrapperList)</span></span>
            </h3>
            <p>Build the ukf measurement model.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">handler</td>
                  <td>pointer to the IParametersHandler interface.</td>
                </tr>
                <tr>
                  <td>stateVariableHandler</td>
                  <td>a variable handler describing the variables in the state vector of the ukf.</td>
                </tr>
                <tr>
                  <td>kinDynFullModel</td>
                  <td></td>
                </tr>
                <tr>
                  <td>subModelList</td>
                  <td>a vector of <a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1SubModel.html" class="m-doc">SubModel</a> objects.</td>
                </tr>
                <tr>
                  <td>kinDynWrapperList</td>
                  <td>a vector of pointers to <a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1KinDynWrapper.html" class="m-doc">KinDynWrapper</a> objects</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>a std::unique_ptr to the <a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1UkfMeasurement.html" class="m-doc">UkfMeasurement</a>. In case of issues, an empty <a href="classBipedalLocomotion_1_1System_1_1VariablesHandler.html" class="m-doc">BipedalLocomotion::<wbr />System::<wbr />VariablesHandler</a> and an invalid pointer will be returned.</td>
                </tr>
              </tfoot>
            </table>
<aside class="m-note m-info"><h4>Note</h4><p>the following parameters are required by the class</p><table class="m-table"><thead><tr><th>Parameter Name</th><th>Type</th><th>Description</th><th>Mandatory</th></tr></thead><tbody><tr><td><code>sampling_time</code></td><td><code>double</code></td><td>Sampling time.</td><td>Yes</td></tr><tr><td><code>dynamics_list</code></td><td><code>vector&lt;string&gt;</code></td><td>List of dynamics composing the measurement model.</td><td>Yes</td></tr></tbody></table><p>For <strong>each</strong> dynamics listed in the parameter <code>dynamics_list</code> the user must specified all the parameters required by the dynamics itself but <code>dT</code> since is already specified in the parent group. Moreover the following parameters are required for each dynamics.</p><table class="m-table"><thead><tr><th>Group</th><th>Parameter Name</th><th>Type</th><th>Description</th><th>Mandatory</th></tr></thead><tbody><tr><td><code>DYNAMICS_NAME</code></td><td><code>name</code></td><td><code>string</code></td><td>String representing the name of the dynamics.</td><td>Yes</td></tr><tr><td><code>DYNAMICS_NAME</code></td><td><code>elements</code></td><td><code>std::vector&lt;string&gt;</code></td><td>Vector of strings representing the elements composing the specific dynamics.</td><td>No</td></tr><tr><td><code>DYNAMICS_NAME</code></td><td><code>covariance</code></td><td><code>std::vector&lt;double&gt;</code></td><td>Vector of double containing the covariance associated to each element.</td><td>Yes</td></tr><tr><td><code>DYNAMICS_NAME</code></td><td><code>dynamic_model</code></td><td><code>string</code></td><td>String representing the type of dynamics. The string should match the name of the C++ class.</td><td>Yes</td></tr><tr><td><code>DYNAMICS_NAME</code></td><td><code>use_bias</code></td><td><code>boolean</code></td><td>Boolean saying if an additive bias must be used in the dynamic model.</td><td>No</td></tr><tr><td><code>DYNAMICS_NAME</code></td><td><code>use_bias</code></td><td><code>boolean</code></td><td>Boolean saying if an additive bias must be used in the dynamic model.</td><td>No</td></tr></tbody></table>
<p><code>DYNAMICS_NAME</code> is a placeholder for the name of the dynamics contained in the <code>dynamics_list</code> list. <code>name</code> can contain only the following values (&quot;ds&quot;, &quot;i_m&quot;, &quot;*_ft_sensor&quot;, &quot;*_ft_acc&quot;, &quot;*_ft_gyro&quot;).</p><p>The following <code>ini</code> file presents an example of the configuration that can be used to build the <a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1UkfMeasurement.html" class="m-doc">UkfMeasurement</a>.</p></aside><pre class="m-code"><span class="c1"># UkfMeasurement.ini</span>

<span class="na">dynamics_list                   (&quot;JOINT_VELOCITY&quot;, &quot;MOTOR_CURRENT&quot;, &quot;RIGHT_LEG_FT&quot;, &quot;RIGHT_FOOT_REAR_GYRO&quot;)</span>

<span class="k">[JOINT_VELOCITY]</span>
<span class="na">name                            &quot;ds&quot;</span>
<span class="na">elements                        (&quot;r_hip_pitch&quot;, &quot;r_hip_roll&quot;, &quot;r_hip_yaw&quot;, &quot;r_knee&quot;, &quot;r_ankle_pitch&quot;, &quot;r_ankle_roll&quot;)</span>
<span class="na">covariance                      (1e-3, 1e-3, 1e-3, 1e-3, 1e-3, 1e-3)</span>
<span class="na">dynamic_model                   &quot;JointVelocityDynamics&quot;</span>

<span class="k">[FRICTION_TORQUE]</span>
<span class="na">name                            &quot;tau_F&quot;</span>
<span class="na">elements                        (&quot;r_hip_pitch&quot;, &quot;r_hip_roll&quot;, &quot;r_hip_yaw&quot;, &quot;r_knee&quot;, &quot;r_ankle_pitch&quot;, &quot;r_ankle_roll&quot;)</span>
<span class="na">covariance                      (1e-2, 1e-2, 1e-2, 1e-2, 1e-2, 1e-1)</span>
<span class="na">dynamic_model                   &quot;FrictionTorqueDynamics&quot;</span>
<span class="na">friction_k0                     (9.106, 5.03, 4.93, 12.88, 14.34, 1.12)</span>
<span class="na">friction_k1                     (200.0, 6.9, 200.0, 59.87, 200.0, 200.0)</span>
<span class="na">friction_k2                     (1.767, 5.64, 0.27, 2.0, 3.0, 0.0)</span>

<span class="k">[RIGHT_LEG_FT]</span>
<span class="na">name                            &quot;r_leg_ft_sensor&quot;</span>
<span class="na">elements                        (&quot;fx&quot;, &quot;fy&quot;, &quot;fz&quot;, &quot;mx&quot;, &quot;my&quot;, &quot;mz&quot;)</span>
<span class="na">covariance                      (1e-3, 1e-3, 1e-3, 1e-4, 1e-4, 1e-4)</span>
<span class="na">dynamic_model                   &quot;ConstantMeasurementModel&quot;</span>

<span class="k">[RIGHT_FOOT_REAR_GYRO_BIAS]</span>
<span class="na">name                            &quot;r_foot_rear_ft_gyro_bias&quot;</span>
<span class="na">elements                        (&quot;x&quot;, &quot;y&quot;, &quot;z&quot;)</span>
<span class="na">covariance                      (8.2e-8, 1e-2, 9.3e-3)</span>
<span class="na">dynamic_model                   &quot;ConstantMeasurementModel&quot;</span></pre>
          </div></section>
          <section class="m-doc-details" id="a277cc5da1090f678b8f76e4e1a1ec02a"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a277cc5da1090f678b8f76e4e1a1ec02a" class="m-doc-self">initialize</a>(</span><span class="m-doc-wrap">std::weak_ptr&lt;const <a href="classBipedalLocomotion_1_1ParametersHandler_1_1IParametersHandler.html" class="m-doc">ParametersHandler::<wbr />IParametersHandler</a>&gt; handler)</span></span>
            </h3>
            <p>Initialize the ukf measurement model.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">handler</td>
                  <td>pointer to the IParametersHandler interface.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>True in case of success, false otherwise.</td>
                </tr>
              </tfoot>
            </table>
<aside class="m-note m-info"><h4>Note</h4><p>the following parameters are required by the class</p><table class="m-table"><thead><tr><th>Parameter Name</th><th>Type</th><th>Description</th><th>Mandatory</th></tr></thead><tbody><tr><td><code>sampling_time</code></td><td><code>std::chrono::nanoseconds</code></td><td>Sampling time.</td><td>Yes</td></tr></tbody></table></aside>
          </div></section>
          <section class="m-doc-details" id="a0bf938a7c212bd3f23f65d4acdb287f1"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a0bf938a7c212bd3f23f65d4acdb287f1" class="m-doc-self">finalize</a>(</span><span class="m-doc-wrap">const <a href="classBipedalLocomotion_1_1System_1_1VariablesHandler.html" class="m-doc">System::<wbr />VariablesHandler</a>&amp; handler)</span></span>
            </h3>
            <p>Finalize the <a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1UkfMeasurement.html" class="m-doc">UkfMeasurement</a>.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">handler</td>
                  <td>variable handler.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>true in case of success, false otherwise.</td>
                </tr>
              </tfoot>
            </table>
<aside class="m-note m-info"><h4>Note</h4><p>You should call this method after you initialize the <a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1UkfMeasurement.html" class="m-doc">UkfMeasurement</a>.</p></aside>
          </div></section>
          <section class="m-doc-details" id="af3a294d8de87e63fd5ddb28416454ae6"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#af3a294d8de87e63fd5ddb28416454ae6" class="m-doc-self">setUkfInputProvider</a>(</span><span class="m-doc-wrap">std::shared_ptr&lt;const <a href="classBipedalLocomotion_1_1Estimators_1_1RobotDynamicsEstimator_1_1UkfInputProvider.html" class="m-doc">UkfInputProvider</a>&gt; ukfInputProvider)</span></span>
            </h3>
            <p>setUkfInputProvider set the provider for the ukf input.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">ukfInputProvider</td>
                  <td>a pointer to a structure containing the joint positions and the robot base pose, velocity and acceleration.</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a8b8f1cc6c9b9377a9f2f39d7121e5989"><div>
            <h3>
              <span class="m-doc-wrap-bumper">const <a href="classBipedalLocomotion_1_1System_1_1VariablesHandler.html" class="m-doc">System::<wbr />VariablesHandler</a>&amp; BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a8b8f1cc6c9b9377a9f2f39d7121e5989" class="m-doc-self">getMeasurementVariableHandler</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>getMeasurementVariableHandler access the <code><a href="classBipedalLocomotion_1_1System_1_1VariablesHandler.html" class="m-doc">System::<wbr />VariablesHandler</a></code> instance created during the initialization phase.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>the measurement variable handler containing all the measurement variables and their sizes and offsets.</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a0abc9014ca9d64c17d589077b1a8638a"><div>
            <h3>
              <span class="m-doc-wrap-bumper">std::pair&lt;bool, bfl::Data&gt; BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a0abc9014ca9d64c17d589077b1a8638a" class="m-doc-self">predictedMeasure</a>(</span><span class="m-doc-wrap">const Eigen::Ref&lt;const Eigen::MatrixXd&gt;&amp; currentState) const <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>predictedMeasure predict the new measurement depending on the state computed by the predict step.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>a std::pair&lt;bool, bfl::Data&gt; where the bool value says if the measurement prediciton is done correctly and the bfl::Data is the predicted measure.</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="ac4bc75618d5b26f52d3429fec0eae395"><div>
            <h3>
              <span class="m-doc-wrap-bumper">std::pair&lt;bool, Eigen::MatrixXd&gt; BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ac4bc75618d5b26f52d3429fec0eae395" class="m-doc-self">getNoiseCovarianceMatrix</a>(</span><span class="m-doc-wrap">) const <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>getNoiseCovarianceMatrix access the <code>Eigen::MatrixXd</code> representing the process covariance matrix.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>a boolean value and the measurement noise covariance matrix.</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a66c317ef0deac940789962933b66a2c6"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a66c317ef0deac940789962933b66a2c6" class="m-doc-self">setProperty</a>(</span><span class="m-doc-wrap">const std::string&amp; property) <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>setProperty is not implemented.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">property</td>
                  <td>is a string.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>false as it is not implemented.</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="ac8615aeda5b4e01022bf0c8f6e179127"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bfl::VectorDescription BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ac8615aeda5b4e01022bf0c8f6e179127" class="m-doc-self">getMeasurementDescription</a>(</span><span class="m-doc-wrap">) const <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>getMeasurementDescription access the <code>bfl::VectorDescription</code>.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>the measurement vector description.</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a3d3aee5448d684f1b62f38cc195af66f"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bfl::VectorDescription BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a3d3aee5448d684f1b62f38cc195af66f" class="m-doc-self">getInputDescription</a>(</span><span class="m-doc-wrap">) const <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>getInputDescription access the <code>bfl::VectorDescription</code>.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>the input vector description.</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a2eb74316fe079b641912b3e5d3b90e40"><div>
            <h3>
              <span class="m-doc-wrap-bumper">std::size_t BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a2eb74316fe079b641912b3e5d3b90e40" class="m-doc-self">getMeasurementSize</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>getMeasurementSize access the length of the measurement vector</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>the length of measurement vector</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a1a25144147de896f09cd97792b23d6ff"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a1a25144147de896f09cd97792b23d6ff" class="m-doc-self">setStateVariableHandler</a>(</span><span class="m-doc-wrap"><a href="classBipedalLocomotion_1_1System_1_1VariablesHandler.html" class="m-doc">System::<wbr />VariablesHandler</a> stateVariableHandler)</span></span>
            </h3>
            <p>Set a <code>System::VariableHandler</code> describing the variables composing the state.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">stateVariableHandler</td>
                  <td>is the variable handler</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a42b53b3b8de94477beccc56edbe01aeb"><div>
            <h3>
              <span class="m-doc-wrap-bumper">std::pair&lt;bool, bfl::Data&gt; BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a42b53b3b8de94477beccc56edbe01aeb" class="m-doc-self">innovation</a>(</span><span class="m-doc-wrap">const bfl::Data&amp; predictedMeasurements,
              const bfl::Data&amp; measurements) const <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>innovation computes the innovation step of the ukf update as the difference between the predicted_measurement and the measurement.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">predictedMeasurements</td>
                  <td></td>
                </tr>
                <tr>
                  <td>measurements</td>
                  <td>is a <code>blf::Data</code> reference representing the measurements coming from the user.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>a <code>std::pair&lt;bool, bfl::Data&gt;</code> where the boolean value is always true and the <code>bfl::Data</code> is the innovation term.</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="ab3fa98a920c94461233987a23b544fa2"><div>
            <h3>
              <span class="m-doc-wrap-bumper">std::pair&lt;bool, bfl::Data&gt; BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ab3fa98a920c94461233987a23b544fa2" class="m-doc-self">measure</a>(</span><span class="m-doc-wrap">const bfl::Data&amp; data = bfl::Data()) const <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>measure get the updated measurement.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">data</td>
                  <td>is a <code>const blf::Data</code> reference and is optional parameter.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>a pair of a boolean value which is always true and the measurements.</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a93871ca09f6b3abd89cdc57e83c68c72"><div>
            <h3>
              <span class="m-doc-wrap-bumper">bool BipedalLocomotion::<wbr />Estimators::<wbr />RobotDynamicsEstimator::<wbr />UkfMeasurement::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a93871ca09f6b3abd89cdc57e83c68c72" class="m-doc-self">freeze</a>(</span><span class="m-doc-wrap">const bfl::Data&amp; data = bfl::Data()) <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>freeze update the measurement using data from sensors.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">data</td>
                  <td>is a generic object representing data coming from sensors.</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>true.</td>
                </tr>
              </tfoot>
            </table>
<aside class="m-note m-info"><h4>Note</h4><p>data in this case must be a <code>std::map&lt;std::string, Eigen::VectorXd&gt;</code> where the first element represents the name of each measurement dynamics and the second element is the vector containing the measurement of the sensor associated to that variable.</p></aside>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script>
<script src="searchdata-v2.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>bipedal-locomotion-framework documentation. Licensed under the <a href="https://www.gnu.org/licenses/lgpl-3.0.en.html">GNU Lesser General Public License v3.0</a>. Project maintained by the <a href="https://www.iit.it/web/ami/">Artificial and Mechanical Intelligence Lab</a>. Contact the team via <a href="https://github.com/ami-iit/bipedal-locomotion-framework/issues/new">GitHub</a>.<br />Generated by <a href="https://doxygen.org/">Doxygen</a> 1.9.1 and <a href="https://mcss.mosra.cz/">m.css</a>.
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
